<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.leaf.myapp.dao.RegisterDAO">
	<insert id="registerOk" parameterType="com.leaf.myapp.vo.RegisterVO">
		insert into registers (userid, userpwd, username, birth, tel, email, addr)
		values(#{userid},#{userpwd},#{username},#{birth},#{tel},#{email},#{addr})
	
	</insert>
	
	<select id="idCheck" parameterType="String" resultType="int">
		select count(userid) from registers where userid=#{param1}
	
	</select> <!-- 아이디찾기 -->
	
	<select id="sendNumber" resultType="String">
		select userid from registers where tel=#{param1} and username=#{param2}
	
	</select><!-- 로그인 -->
	
	  	<select id="loginSelect" resultType="com.leaf.myapp.vo.RegisterVO">
  		select userid, username from registers
  		where userid=#{userid} and userpwd=#{userpwd}
  	</select>
  	
  	<select id="emailAddress" resultType="String">
  		select email from registers 
  		where tel=#{param1}
  	</select>
	
	<update id="passwordUpdate">
	update registers set userpwd=#{param3} where email=#{param2} and tel=#{param1}
	
	</update>
</mapper>